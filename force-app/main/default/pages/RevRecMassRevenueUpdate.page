<!--
    Description     :   This page is for Mass revenue update opportunity of matching criteria
    
    Created By      :  
    
    Created Date    :   08/01/2020
    
    Version         :   V_1.0
    
    Revision Log    :   V_1.0 - Created 
-->

<apex:page controller="RevRecMassRevenueUpdateController" tabStyle="RevRecAppSetting__c" id="page"  cache="true" showHeader="false" sidebar="false">
    <!--
    <apex:form id="form" enctype="multipart/form-data">
        
        <apex:pageMessages />
        
        <style type="text/css">
            .custPopup{
            background-color: rgb(245, 255, 254);
            z-index: 9999;
            left: 50%;
            padding:10px;
            position: absolute;
            width: 400px;
            height : 70px;
            margin-left: -250px;
            top:100px;
            }
            .popupBackground{
            background-color:black;
            opacity: 0.20;
            filter: alpha(opacity = 20);
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: 9998;
            }
            
        </style>
        
        <script type="text/javascript">
        function callexcel(){
            window.open("/apex/ProjectedAndActualRevCSV", '_blank');
        }
        </script>
        
        <apex:outputpanel >
            <apex:actionstatus id="waitMsg">
                <apex:facet name="start">
                    <div class="waitingSearchDiv" id="el_loading" style="background-color: #fbfbfb; height: 100%; background: rgba(0, 0, 0, 0.5); width: 100%;position:fixed;top:0px;">
                        <div class="waitingHolder" style="height:40px; width: 150px; z-index: 100000;margin:0 auto;position:fixed;left:50%;top:50%; margin:-75px 0 0 -135px;border-radius: 5px;background:#ECECE3;padding:10px;text-align: center;vertical-align: middle;border: 1px solid #97CAFF;-moz-box-shadow: 3px 3px 4px #000;-webkit-box-shadow: 3px 3px 4px #000;box-shadow: 3px 3px 4px #000;">
                            <img class="waitingImage" src="/img/loading.gif" title="Please Wait..." /> 
                            <span class="waitingDescription" style="color:black;">
                                Please Wait...
                            </span>
                        </div>
                    </div>
                </apex:facet>
            </apex:actionstatus>
        </apex:outputpanel>
        
        <apex:outputPanel id="popupToUploadCSV">
            <apex:outputPanel styleClass="popupBackground" layout="block" rendered="{!displayPopUp}"/>
            <apex:outputPanel styleClass="custPopup" layout="block" rendered="{!displayPopUp}">
                <b>Select a file:</b>&nbsp;&nbsp;
                <apex:inputFile value="{!csvFileBody}"  filename="{!csvAsString}"/>
                <div align="center" style="margin-top:15px;" >
                    <apex:commandButton value="Submit" action="{!importCSVFile}"  style="margin-right:5px;"/>
                    <apex:commandButton value="Cancel" action="{!cancelPopup}"/>
                </div>
            </apex:outputPanel>
        </apex:outputPanel>
        
        <apex:pageBlock id="pb" mode="inlineEdit" title="Mass Revenue Update">
            
            <apex:pageBlockButtons location="top" >
                <apex:commandbutton value="Extract"  reRender="pb" status="waitMsg" onclick="callexcel();"/>
                <apex:commandbutton value="Upload" action="{!uploadOppWithProjectedAndActualAmount}" status="waitMsg" reRender="popupToUploadCSV" />
                <apex:commandbutton value="Show" action="{!showAllOppWithProjectedAndActualAmount}" reRender="pb" status="waitMsg" />
                <apex:commandbutton value="Update" action="{!updateAllOppWithProjectedAndActualAmount}" reRender="pb" status="waitMsg" />
            </apex:pageBlockButtons>
            
            <apex:pageBlockSection columns="2" title="Criteria" collapsible="false" id="pbs">
                
                <apex:inputField value="{!opportunity.StageName}" required="false"/>
                
                <apex:inputField value="{!opportunity.Type}" required="false"/>
                
                <apex:pageBlockSectionItem >
                    Amount From:
                    <apex:inputField value="{!opportunity.Amount}" required="false"/>
                </apex:pageBlockSectionItem>
                
                <apex:pageBlockSectionItem >
                    Amount To:
                    <apex:inputField value="{!opportunity1.Amount}" required="false"/> 
                </apex:pageBlockSectionItem> 
                
                
                <apex:pageBlockSectionItem >
                    Date Field :
                    <apex:selectList multiselect="false" size="1" value="{!selectedCriteriaField}">
                        <apex:selectOptions value="{!SearchDateOptions}"/>
                    </apex:selectList>
                </apex:pageBlockSectionItem>
                
                <apex:pageBlockSectionItem >
                    Range : 
                    <apex:selectList value="{!selectedCriteria}" multiselect="false" size="1" label="Select Criteria">
                        <apex:actionSupport event="onchange" action="{!changeCriteria}" reRender="pb" status="waitMsg"/>
                        <apex:selectOptions value="{!FilterCriteria}"/> 
                    </apex:selectList>
                </apex:pageBlockSectionItem>
                
                <apex:pageBlockSectionItem rendered="{!selectedCriteria = 'Custom'}">
                    From :
                    <apex:inputField value="{!opportunity.REVvue_CreatedDate__c}" required="false" />
                </apex:pageBlockSectionItem>
                
                <apex:pageBlockSectionItem rendered="{!selectedCriteria = 'Custom'}">
                    To :  
                    <apex:inputField value="{!opportunity1.REVvue_CreatedDate__c}" required="false" />
                </apex:pageBlockSectionItem>            
                
            </apex:pageBlockSection>
            
            <apex:pageBlockSection columns="2" title="Single Opportunity Search" collapsible="false" id="pbs2">
                
                <apex:inputField value="{!opportunity.Name}" required="false"/>
                
                <apex:inputField value="{!opportunity.AccountId}" required="false"/>
            </apex:pageBlockSection>
            
            <apex:pageBlockSection title="Table" collapsible="false" rendered="{!(isShow)}">
                
            </apex:pageBlockSection>
        </apex:pageBlock>
    </apex:form>-->
</apex:page>